# 이것이 우분투 리눅스다 정리

## CH.4 서버를 구축할 때 알아야 할 필수 개념과 명령어

* Tap : 예상단어가 한개만 있을때는 한번만 눌러도 되지만, 여러개가 있는경우 두번 눌러서 후보군을 보여준다.

* /etc/skel : 처음 유저가만들어 질때 유저의 디렉토리에 기본으로 생성되는 파일들이 모여있는 곳


-----

#### 파일 유형
파일의 종류는 d,-,b,c,l 5가지 경우 등이 있다.

* d : 디렉토리, 폴더
* - : 일반 파일
* b : block Dvice를 의미하며 하드디스크, 플로피 디스크, CD/DVD 등의 저장장치
* c : Character Device, 마우스 키보드 프린터 등의 입출력 장비
* l : Link, 윈도우의 바로가기 아이콘과 같이 연결되어 있는 파일

#### 링크 (하드링크 vs 심볼릭링크)
하드링크는 원본 파일 데이터를 그대로 사용하는 링크 방식이므로, 크기와 inode가 같다. 그러나 심볼릭 링크는 원본 파일의 위치를 가리키는 포인터 이기에
8바이트로 원본 파일의 크기와 다르다.

하드링크는 원본파일의 디렉토리가 변경되어도 그대로 작동하지만, 심볼릭 링크는 원본 파일의 디렉토리가 변경되면 연결이 끊어지므로 실행이 되지 않는다.

#### 의존성 문제 feat. apt-get
우분투에서 패키지를 설치할때 우선 설치해야하는 패키지가 있다면(의존성 문제), dpkg를 사용한 설치에서는 설치를 멈춘다.

이때 apt-get 명령어를 사용해 패키지 의존성 문제를 자동으로 해결해 준다. 또한 .deb 파일을 저장소에서 알아서 받아와 설치한다.


## 프로세스, 데몬, 서비스

* 프로세스 : '하드디스크에 저장된 실행 코드(프로그램)가 메모리에 올라가 활성화 된 상태'
    * 포그라운드 프로세스 : 실행하면 화면에 나타나서 사용자와 상호작용을 하는 프로세스
    * 백그라운드 프로세스 : 실행은 되었지만,  화면에 나타나지 않고 뒤에서 실행되는 프로세스
    * 프로세스 번호 : 활성화된 프로세스를 구별하기 위해 각 프로세스에 할당된 고유 번호
    * 작업 번호 : 현재 실행되는 백그라운드 프로세스의 순차 번호
    
* 서비스(데몬) : 서버 프로세스, 서비스는 웹 서버, 네임 서버 등의 프로세스를 지칭한다. 서비스는 눈에 보이지 않고, 현재 시스템에서 동작 중인 프로세스
이므로 백그라운드 프로세스의 일종이라고 할 수 있다.
  * 서비스 : 평상시에도 늘 가동하는 서버 프로세스
  * 소켓 : 필요할 떄만 작동하는 서버 프로세스
> 서비스와 소켓은 'systemd'라고 부르는 서비스 매니저 프로그램으로 작동시키거나 관리한다.


## CH.6 하드디스크 관리와 사용자별 공간 할당

#### 하드디스크 추가 후 리눅스에서 사용하기
* 하드디스크 추가 -> 장착한 하드디스크 파티션 할당(*fdisk 하드디스크디렉토리) -> 파티션 장치의 이름을 파일시스템 형식으로 포맷(ext4) -> 파일 시스템을 사용하기 위해 디렉터리에 마운트

### RAID
RAID란 여러개의 하드를 하나로 묶어서 사용하는 방식이다. Linear, 0, 5, 6, 1+0 등 여러가지 방식이 존재한다. RAID는 하드웨어 RAID, 소프트웨어 RAID가 있다. 

#### 소프트웨어 RAID
리눅스에서는 RAID를 만들기 위해선 우선 하드디스크의 파티션을 할당하고, mdadm을 통해서 RAID를 만든다.

* mdadm --create <만들 RAID의 주소> --level=<Linear, 0,1,5,6> --raid-devices=<disk number> <disk address> , .. : RAID 만들기
   
* mdadm --detail <RAID의 주소> : RAID 정보
* mdadm --detail --scan : RAID들의 정보 및 UUID

### LVM(Logical Volume Manager)
논리 하드디스크 관리자로, RAID와 기본 기능은 비슷해 보이지만, 더 많은 기능이 있다.

> LVM의 주요한 용도는 여러 개의 하드디스크를 합쳐허 한개의 파티션으로 구성한 후에, 다시 필요에 따라서 다시 나눌 수 있다. 또는 한 개의 하드디스크로
LVM으로 구성하고 다시 파티션을 구분할 수도 있다.

* 물리 볼륨(Physical Volume) : /dev/sda1, /dev/sdb1 등의 파티션을 의미
* 볼륨 그룹(Volume Group) : 물리 볼륨을 합쳐서 1개의 물리 그룹으로 만든 것
   * vgcreate <VG 이름> <디스크 주소>
* 논리 볼륨(Logical Volume) : 볼륨 그룹을 1개 이상으로 나눈 것, 논리적 그룹이라고도 한다.
   * lvcrate --size <할당용량> --name <이름> <VG 이름>
   
## 사용자별로 공간 할당하기

리눅스는 여러 명의 사용자가 동시에 접속할 수 있고, 한놈이 시스템 하드를 꽉 채워버려서 전체가 가동되지 않게 하는 문제가 생길 수 있다. 이런 상황을
방지하기 위해선 사용자 별로 사용할 수 있는 용량을 제한해야 한다. 이를 **쿼터**라 한다.  즉 사용자가 적정 용량 이상을 사용하지 못하게 함으로써, 할당된 양만큼의 공간만 사용하게 한다면 아무런 문제가 발생하지 않을 것이다.

### 쿼터
쿼터란 파일 시스템마다 사용자나 그룹이 생성할 수 있는 파일의 용량과 개수를 제한하는 것을 말한다.


## CH.8 
